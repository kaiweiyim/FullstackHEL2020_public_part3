{"version":3,"sources":["components/PersonForm.js","components/DeleteButton.js","components/Number.js","components/Numbers.js","components/Filter.js","services/PhoneService.js","components/Notification.js","components/App.js","index.js"],"names":["PersonForm","addName","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","DeleteButton","name","onClickDelete","onClick","Number","number","id","Numbers","persons","map","person","key","Filter","newSearch","handleSearchChange","baseURL","text","axios","get","then","response","console","log","data","filter","includes","post","delete","put","Notification","message","className","App","useState","setSearch","setPersons","setNewName","setNewNumber","msg","setMsg","useEffect","PhoneService","Persons","event","s","target","preventDefault","personObj","find","p","undefined","concat","setTimeout","window","confirm","catch","error","PersonsObj","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9fa23389.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nconst PersonForm = ({addName,newName,newNumber,handleNameChange,handleNumberChange}) => (\r\n    <>\r\n    <h2>add a new</h2>\r\n      <form onSubmit = {addName}>\r\n        <div>\r\n          name: <input value ={newName} onChange = {handleNameChange}/>\r\n        </div>\r\n        <div>\r\n          number: <input value = {newNumber} onChange={handleNumberChange}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </>\r\n\r\n\r\n)\r\n\r\n\r\nexport default PersonForm;","import React from 'react'\r\n\r\nconst DeleteButton = ({name,onClickDelete}) =>(\r\n\r\n    <button value = {name} onClick = {onClickDelete}>delete</button>\r\n\r\n)\r\n\r\nexport default DeleteButton","import React from 'react'\r\nimport DeleteButton from './DeleteButton'\r\n\r\n\r\nconst Number = ({name,number,id,onClickDelete}) => (\r\n    <p>\r\n        {name} {number} <DeleteButton name={name} id={id} onClickDelete ={onClickDelete}/>\r\n    </p>\r\n\r\n)\r\n    \r\n\r\n\r\nexport default Number;","import React from 'react'\r\nimport Number from './Number'\r\n\r\nconst Numbers = ({persons,onClickDelete}) => (\r\n    <>\r\n    <h2>Numbers</h2>\r\n      <>\r\n        {persons.map(person =>\r\n          <Number key = {person.name} \r\n          name ={person.name}  \r\n          number = {person.number} \r\n          onClickDelete = {onClickDelete}/>\r\n          )}\r\n      </>\r\n    </>\r\n)\r\n    \r\n\r\nexport default Numbers;\r\n","import React from 'react'\r\n\r\nconst Filter = ({newSearch,handleSearchChange}) => (\r\n    <div>\r\n        filter shown with <input value ={newSearch} onChange ={handleSearchChange} />\r\n    </div>\r\n\r\n\r\n)\r\n\r\nexport default Filter;","import axios from 'axios'\r\n\r\nconst baseURL = '/api/persons'\r\n\r\n\r\nconst getAll = (text) =>(\r\n    axios\r\n    .get(baseURL)\r\n    .then(response => {\r\n        console.log(response.data)\r\n        if (text !==''){\r\n            const filteredObj = response.data.filter(person => person.name.includes(text))\r\n            return (filteredObj)\r\n        } else {\r\n            return (response.data)\r\n        }\r\n        })\r\n)\r\n    \r\n\r\nconst addPerson = (person) => (\r\n    axios\r\n    .post(baseURL,person)\r\n    .then(response => {\r\n        return (response.data)\r\n    })\r\n)\r\n\r\nconst EditPerson = (person) =>(\r\n    axios\r\n    .put(`${baseURL}/${person.id}`,person)\r\n    .then(response => (response))\r\n)\r\n\r\n\r\n\r\nconst deletePerson = (id) =>{\r\n    axios\r\n    .delete(`${baseURL}/${id}`,{'data':{'id':id}})\r\n    .then(response => (response.data))\r\n}\r\n\r\n\r\nexport default {getAll,addPerson,deletePerson,EditPerson}","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport PersonForm from './PersonForm'\nimport Numbers from './Numbers'\nimport Filter from './Filter'\nimport PhoneService from './../services/PhoneService'\nimport Notification from './Notification'\n\n\nconst App = () => {\n  const [ newSearch, setSearch] = useState('')\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ msg, setMsg] = useState(null)\n\n  \n  useEffect(() => {\n    PhoneService\n    .getAll(newSearch)\n    .then(Persons => {\n      console.log(Persons)\n      setPersons(Persons)\n    })\n  },[newSearch])\n  \n\n  const addName =(event) => {\n    event.preventDefault()\n\n    if (newName !=='' && newNumber !=='') {\n        const personObj ={'name':newName,'number':newNumber}\n        \n        const person = persons.find(p => p.name === newName)\n        if (person === undefined) {\n            //add to server\n          PhoneService\n          .addPerson(personObj)\n          .then(response => {\n            setPersons(persons.concat(response))\n            setNewName('')\n            setNewNumber('')\n            setMsg(`Added ${newName}`)\n            setTimeout(() => {\n              setMsg(null)\n            }, 5000)\n          })\n        } else{\n          const result = window.confirm(`${newName} is already added to phonebook, replace the old number with new one?`)\n          if (result) {\n            // edit existing number\n            const personObj ={'name':newName,'number':newNumber,'id':person.id}\n            PhoneService\n            .EditPerson(personObj)\n            .then(response => {\n              setPersons(persons.map(p => p.id !== person.id ? p : personObj))\n              setNewName('')\n              setNewNumber('')\n              setMsg(`Updated ${newName} number`)\n              setTimeout(() => {\n                setMsg(null)\n            }, 5000)\n            })\n            .catch( error => {\n              setMsg(`The person ${newName} was already deleted from server`)\n              setTimeout(() => {\n                setMsg(null)\n            }, 5000)\n\n            })\n            \n\n          }\n          \n        }\n        \n    }\n\n  }\n  \n  const onClickDelete = (event) => {\n    const name = event.target.value\n    const result = window.confirm(`Delete ${name} ?`)\n    if (result){\n      const id = persons.find(p => p.name === name).id\n      PhoneService\n      .deletePerson(id)\n      const PersonsObj = persons.filter(p => Number(p.id) !== Number(id) )\n      setPersons(PersonsObj)\n      setMsg(`Deleted ${name} `)\n      setTimeout(() => {\n        setMsg(null)\n      }, 5000)\n    }\n    \n\n  }\n\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    const s = event.target.value\n    setSearch(s)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n        <Notification message={msg}/>\n      \n        <Filter newSearch = {newSearch} handleSearchChange = {handleSearchChange} />\n\n        <PersonForm addName = {addName} newNumber = {newNumber} newName = {newName} \n        handleNameChange = {handleNameChange} handleNumberChange = {handleNumberChange}/>\n        \n        <Numbers persons = {persons} onClickDelete = {onClickDelete}/>\n      \n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}